import{j as e}from"./jsx-runtime.CLpGMVip.js";import{r as d}from"./index.CXuOLBzL.js";const j=[{id:1,pais:"Bolivia",codigo:"591"},{id:2,pais:"Chile",codigo:"56"},{id:3,pais:"Argentina",codigo:"54"},{id:4,pais:"Colombia",codigo:"57"},{id:5,pais:"Ecuador",codigo:"593"},{id:6,pais:"Peru",codigo:"51"},{id:7,pais:"Brasil",codigo:"55"},{id:8,pais:"Cuba",codigo:"53"}],b=({onChange:o,valueAndId:i})=>e.jsxs("select",{name:i,id:i,required:!0,className:"country-item form-control",onChange:o,children:[e.jsx("option",{value:"",children:"País"}),j.map(l=>e.jsx("option",{value:l.id,children:l.pais},l.id))]}),_=({valueAndId:o})=>e.jsx("div",{className:"pw-ui-phone-input__list",children:e.jsx("ul",{className:"pw-ui-phone-input__bottom-list",id:o,children:j.map(i=>e.jsxs("li",{className:"pw-ui-phone-input__list-item pw-ui-js-phone-input-option","data-value":i.codigo,"data-text":i.codigo,id:"phone-bottom-list-item",children:[e.jsxs("span",{className:"pw-ui-phone-input__number phone-code",children:["+",i.codigo]}),e.jsx("span",{className:"pw-ui-phone-input__country phone-country",children:i.pais})]},i.id))})}),y=[{id:1,categoria:"Ciencias Empresariales"},{id:2,categoria:"Ingeniería"},{id:3,categoria:"Salud"},{id:4,categoria:"Legal"},{id:5,categoria:"Social"}],S=[{id:1,sector:"Salud y bienestar"},{id:2,sector:"Tecnología"},{id:3,sector:"Economía"},{id:4,sector:"Social"},{id:5,sector:"Educación"},{id:6,sector:"Deportes"},{id:7,sector:"Arte y cultura"},{id:8,sector:"Startups e innovación"},{id:9,sector:"Marketing y publicidad"},{id:10,sector:"Agrario"}],C=({onChange:o,selectedArea:i,selectedSector:l})=>e.jsxs("div",{children:[e.jsxs("div",{className:"form-group form-select-sm col-md-6 col-sm-12",children:[e.jsxs("select",{className:"country-item form-control",required:!0,name:"idAreaInteres",id:"idAreaInteres",value:i,onChange:o,children:[e.jsx("option",{value:"",children:"Área"}),y.map(c=>e.jsx("option",{value:c.id,children:c.categoria},c.id))]}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]}),e.jsxs("div",{className:"form-group form-select-sm col-md-6 col-sm-12",children:[e.jsxs("select",{className:"country-item form-control",required:!0,name:"idSector",id:"idSector",value:l,onChange:o,children:[e.jsx("option",{value:"",children:"Sector"}),S.map(c=>e.jsx("option",{value:c.id,children:c.sector},c.id))]}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]})]}),F=()=>{const[o,i]=d.useState({usuario:"",password:"",nombres:"",apellidoPaterno:"",apellidoMaterno:"",correo:"",ciudadRadicacion:"",idPais:"",telefono:"",diaNacimiento:"",mesNacimiento:"",anioNacimiento:"",idAreaInteres:"",idSector:""}),[l,c]=d.useState(null),[g,x]=d.useState(null),[h,m]=d.useState(""),[p,N]=d.useState(!1),r=a=>{const{name:s,value:n}=a.target;i(t=>({...t,[s]:n}))},v=()=>{N(a=>!a)},f=a=>{const s=a.target.files?.[0]||null;if(c(s),s){const n=new FileReader;n.onloadend=()=>{x(n.result)},n.readAsDataURL(s)}else x(null);console.log("Imagen seleccionada:",s)},w=async a=>{a.preventDefault();const s=`${o.anioNacimiento}-${o.mesNacimiento}-${o.diaNacimiento}`,n=new FormData;Object.keys(o).forEach(t=>{n.append(t,o[t])}),n.append("fechaNacimiento",s),l?(console.log("Imagen a enviar:",l),n.append("fotografia",l)):console.warn("No se seleccionó ninguna imagen"),n.forEach((t,u)=>{console.log(`${u}:`,t)});try{const t=await fetch("/api/insert_postulante",{method:"POST",body:n}),u=await t.json();t.ok?(m("Postulación enviada correctamente."),i({usuario:"",password:"",nombres:"",apellidoPaterno:"",apellidoMaterno:"",correo:"",ciudadRadicacion:"",idPais:"",telefono:"",diaNacimiento:"",mesNacimiento:"",anioNacimiento:"",idAreaInteres:"",idSector:""}),c(null)):m(u.error||"Error al enviar la postulación.")}catch(t){console.error("Error en la solicitud:",t),m("Error en la conexión al servidor.")}};return e.jsx("div",{className:"page-content ",children:e.jsx("div",{className:"page-content page-content--index",children:e.jsx("section",{className:"consultation",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 col-sm-12",children:[e.jsx("h1",{className:"title-homepage title-homepage--lg",children:"Formulario Registro Docentes"}),e.jsxs("div",{className:"consultation__description",children:[e.jsx("p",{className:"text-homepage text-homepage--lg",children:e.jsx("b",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Similique quibusdam a odit reprehenderit, quam deleniti, suscipit accusamus consequuntur, nulla minima aliquid non optio maxime facilis! Animi consequuntur ipsam voluptates suscipit."})}),e.jsx("p",{className:"text-homepage text-homepage--sm",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolores nobis ratione enim deleniti molestiae inventore quasi rerum? Quidem, obcaecati a provident illo magnam quod consequuntur, at recusandae itaque nulla eveniet."}),e.jsx("br",{})]})]}),e.jsxs("div",{className:"col-md-6 col-sm-12",children:[e.jsxs("form",{encType:"multipart/form-data",onSubmit:w,children:[e.jsx("div",{style:{marginTop:"15px",textAlign:"center",marginBottom:"15px"},children:e.jsx("img",{src:g||"/images/perfil-docente-pordefecto.png",alt:"Previsualización",width:"150",height:"150",style:{border:"1px solid #ccc",borderRadius:"8px",objectFit:"cover"}})}),e.jsx("div",{className:"form-row",style:{marginBottom:"10px"},children:e.jsx("input",{type:"file",accept:"image/*",onChange:f})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group input__group",children:[e.jsx("input",{type:"text",name:"usuario",id:"usuario",className:"form-control js-control-input",value:o.usuario,onChange:r}),e.jsx("label",{htmlFor:"usuario",children:"Usuario"}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]}),e.jsx("div",{className:"form-group input__group",children:e.jsxs("div",{className:"password-group",children:[e.jsx("input",{type:p?"text":"password",name:"password",id:"password",className:"form-control js-control-input",value:o.password,onChange:r}),e.jsx("label",{htmlFor:"password",children:"Contraseña"}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"}),e.jsx("span",{className:"toggle-password",onClick:v,title:p?"Ocultar contraseña":"Mostrar contraseña",children:p?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:e.jsx("path",{d:"M12 4.5C7.5 4.5 3.8 7.3 2 12c1.8 4.7 5.5 7.5 10 7.5s8.2-2.8 10-7.5c-1.8-4.7-5.5-7.5-10-7.5zm0 13c-3.1 0-5.6-2.5-5.6-5.5S8.9 6.5 12 6.5s5.6 2.5 5.6 5.5-2.5 5.5-5.6 5.5zm0-2.1c1.8 0 3.3-1.4 3.3-3.4s-1.4-3.4-3.3-3.4-3.3 1.4-3.3 3.4 1.4 3.4 3.3 3.4z"})}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:e.jsx("path",{d:"M2 12c1.8 4.7 5.5 7.5 10 7.5 2.5 0 4.9-.9 6.9-2.5l2.4 2.4 1.4-1.4-19-19-1.4 1.4 2.4 2.4C3.1 7.1 2 9.4 2 12zm10-7.5c-2.5 0-4.9.9-6.9 2.5l9.9 9.9c2-.5 3.9-1.7 5.2-3.4-1.8-4.7-5.5-7.5-10-7.5zm-6 3.6 3.3 3.3C9.1 10.1 10 10 12 10c1.4 0 2.7.1 4 .4l1.7 1.7c-.4-.1-.9-.1-1.7-.1-2.1 0-4 .5-5.7 1.3L4.5 8.1z"})})}),e.jsx("style",{children:`
        .password-group {
          position: relative;
        }

        .password-group input {
          padding-right: 40px; /* Espacio para el icono */
        }

        .password-group .toggle-password {
          position: absolute;
          right: 10px;
          top: 50%;
          transform: translateY(-50%);
          cursor: pointer;
          font-size: 18px;
        }
      `})]})}),e.jsxs("div",{className:"form-group input__group",children:[e.jsx("input",{type:"text",name:"nombres",id:"nombres",className:"form-control js-control-input",value:o.nombres,onChange:r}),e.jsx("label",{htmlFor:"nombres",children:"Nombres"}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]})]}),e.jsxs("div",{className:"form-row row",children:[e.jsxs("div",{className:"form-group col-md-6 col-sm-12 input__group",children:[e.jsx("input",{type:"text",name:"apellidoPaterno",id:"apellidoPaterno",className:"form-control js-control-input",value:o.apellidoPaterno,onChange:r}),e.jsx("label",{htmlFor:"apellidoPaterno",children:"Apellido paterno"}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]}),e.jsxs("div",{className:"form-group col-md-6 col-sm-12 input__group",children:[e.jsx("input",{type:"text",name:"apellidoMaterno",id:"apellidoMaterno",className:"form-control js-control-input",value:o.apellidoMaterno,onChange:r}),e.jsx("label",{htmlFor:"apellidoMaterno",children:"Apellido Materno"}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group input__group",children:[e.jsx("input",{type:"text",name:"correo",id:"correo",className:"form-control js-control-input",value:o.correo,onChange:r}),e.jsx("label",{htmlFor:"correoElectronico",children:"Correo electrónico"}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]})}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group input__group",children:[e.jsx("input",{type:"text",name:"ciudadRadicacion",id:"ciudadRadicacion",className:"form-control js-control-input",value:o.ciudadRadicacion,onChange:r}),e.jsx("label",{htmlFor:"ciudadRadicacion",children:"Ciudad de radicación"}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]})}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{id:"country_wrapper",className:"form-group form-select",children:[e.jsx(b,{valueAndId:"idPais",onChange:a=>i(s=>({...s,idPais:a.target.value}))}),e.jsx("span",{className:"error-text"})]})}),e.jsx("div",{className:"form-row",children:e.jsx("div",{className:"pw-ui-control form-group",children:e.jsxs("div",{className:"pw-ui-phone-input",children:[e.jsx("div",{className:"pw-ui-control",children:e.jsxs("div",{className:"pw-ui-control-input__wrapper",children:[e.jsx("input",{type:"text",name:"telefono",className:"pw-ui-control-input__field pw-ui-js-control-input no-arrows",id:"telefono",value:o.telefono,onChange:r}),e.jsx("div",{className:"pw-ui-control-placeholder",children:"Número de contacto"}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]})}),e.jsxs("div",{className:"pw-ui-phone-input__pseudo-field pw-ui-js-phone-input-toggler",children:[e.jsx("div",{className:"pw-ui-phone-input__value pw-ui-js-phone-input-show",children:"+"}),e.jsx("svg",{width:"12",height:"5",className:"pw-ui-phone-input__arrow",children:e.jsx("use",{xlinkHref:"#pw-ui-ico-chevron"})})]}),e.jsx(_,{valueAndId:"codigo"})]})})}),e.jsxs("div",{className:"form-row row",children:[e.jsx("label",{htmlFor:"",className:"datePicker-label",children:"Fecha de nacimiento"}),e.jsxs("div",{className:"form-group form-select-sm col-md-4 col-sm-12",children:[e.jsxs("select",{className:"country-item form-control",id:"diaNacimiento",name:"diaNacimiento",value:o.diaNacimiento,onChange:r,required:!0,children:[e.jsx("option",{value:"",children:"Día"}),Array.from({length:31},(a,s)=>e.jsx("option",{value:s+1,children:s+1},s+1))]}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]}),e.jsxs("div",{className:"form-group form-select-sm col-md-4 col-sm-12",children:[e.jsxs("select",{className:"country-item form-control",id:"mesNacimiento",name:"mesNacimiento",value:o.mesNacimiento,onChange:r,required:!0,children:[e.jsx("option",{value:"",children:"Mes"}),["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"].map((a,s)=>e.jsx("option",{value:s+1,children:a},s+1))]}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]}),e.jsxs("div",{className:"form-group form-select-sm col-md-4 col-sm-12",children:[e.jsxs("select",{className:"country-item form-control",id:"anioNacimiento",name:"anioNacimiento",value:o.anioNacimiento,onChange:r,required:!0,children:[e.jsx("option",{value:"",children:"Año"}),Array.from({length:100},(a,s)=>e.jsx("option",{value:2023-s,children:2023-s},2023-s))]}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]})]}),e.jsxs("div",{className:"form-row row",children:[e.jsx("label",{htmlFor:"",className:"datePicker-label",children:"Área de interés de docencia"}),e.jsx(C,{onChange:r,selectedArea:o.idAreaInteres,selectedSector:o.idSector})]}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",style:{display:"none"},children:e.jsx("symbol",{id:"pw-ui-ico-chevron",viewBox:"0 0 10 5",children:e.jsx("path",{fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",d:"M9 0L4.999625 4.285714 1 0"})})}),e.jsx("div",{className:"form-row",children:e.jsx("div",{className:"form-group input__group",children:e.jsx("input",{type:"submit",className:"btn btn-primary",value:"Registrarse",name:"Registrarse"})})})]}),h&&e.jsx("p",{children:h})]})]})})})})})};export{F as SingleForm};
