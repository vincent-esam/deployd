import{j as n}from"./jsx-runtime.CLpGMVip.js";import{r as c}from"./index.CXuOLBzL.js";/* empty css                       */function h(o){this.message=o}h.prototype=new Error,h.prototype.name="InvalidCharacterError";var p=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(o){var e=String(o).replace(/=+$/,"");if(e.length%4==1)throw new h("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,t,l=0,a=0,i="";t=e.charAt(a++);~t&&(r=l%4?64*r+t:t,l++%4)?i+=String.fromCharCode(255&r>>(-2*l&6)):0)t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t);return i};function w(o){var e=o.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(r){return decodeURIComponent(p(r).replace(/(.)/g,function(t,l){var a=l.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}(e)}catch{return p(e)}}function d(o){this.message=o}function b(o,e){if(typeof o!="string")throw new d("Invalid token specified");var r=(e=e||{}).header===!0?0:1;try{return JSON.parse(w(o.split(".")[r]))}catch(t){throw new d("Invalid token specified: "+t.message)}}d.prototype=new Error,d.prototype.name="InvalidTokenError";const x=()=>{const[o,e]=c.useState(null),[r,t]=c.useState(null),[l,a]=c.useState(null);c.useEffect(()=>{const m=localStorage.getItem("token");if(!m){window.location.href="/login";return}try{const s=b(m),{idDocente:u,nombre:f,apellidoPaterno:g}=s;localStorage.setItem("idDocente",u),localStorage.setItem("docenteNombre",f),localStorage.setItem("docenteApellidoPaterno",g),e(u),t(f),a(g)}catch(s){console.error("Error al decodificar el token:",s),window.location.href="/login"}},[]);const i=()=>{localStorage.removeItem("token"),localStorage.removeItem("idDocente"),localStorage.removeItem("docenteNombre"),localStorage.removeItem("docenteApellidoPaterno"),window.location.href="/login"};return n.jsxs(n.Fragment,{children:[n.jsxs("header",{children:[n.jsx("a",{id:"logoEsam",href:"/dashboard",children:" "}),n.jsx("h1",{id:"titulo-head",children:"Docente Plataform"}),n.jsx("a",{id:"logoEsamMobile",href:"/dashboard",children:n.jsx("h1",{id:"tituloMobile",children:"Docente Plataform"})}),n.jsx("button",{className:"logout-button",onClick:i,children:"Cerrar Sesi√≥n"})]}),n.jsx("div",{className:"barraAmarilla"})]})};export{x as default};
