import{j as o}from"./jsx-runtime.CLpGMVip.js";import{r as s}from"./index.CXuOLBzL.js";const r={imageContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:"900px",height:"800px",overflow:"hidden",position:"relative"},formContainer:{position:"absolute",top:"40%",left:"50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column",gap:"1.5rem",width:"50%"},input:{padding:"0.8rem",fontSize:"1rem",borderRadius:"8px",border:"1px solid #ccc",width:"85%"},button:{padding:"0.8rem",fontSize:"1rem",color:"white",backgroundColor:"#007bff",border:"none",borderRadius:"8px",cursor:"pointer"},buttonHover:{backgroundColor:"#0056b3"},errorMessage:{color:"red",fontSize:"1rem",marginTop:"1rem"}},h=()=>{const[a,d]=s.useState(""),[i,p]=s.useState(""),[l,n]=s.useState(""),c=async e=>{e.preventDefault(),n("");try{const t=await fetch("/api/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usuario:a,password:i})}),u=await t.json();t.ok?(localStorage.setItem("token",u.token),window.location.href="/dashboardDoc"):n(u.error||"Usuario o contraseña incorrectos.")}catch(t){console.error("Error al hacer login:",t),n("Hubo un error al procesar la solicitud.")}};return o.jsxs("div",{style:r.imageContainer,children:[o.jsx("img",{src:"/images/esam-cover.jpeg",alt:"ESAM Cover"}),o.jsxs("div",{style:r.formContainer,children:[o.jsxs("form",{onSubmit:c,children:[o.jsx("input",{type:"text",placeholder:"Usuario",value:a,onChange:e=>d(e.target.value),style:r.input}),o.jsx("input",{type:"password",placeholder:"Contraseña",value:i,onChange:e=>p(e.target.value),style:r.input}),o.jsx("button",{type:"submit",style:r.button,onMouseOver:e=>e.target.style.backgroundColor=r.buttonHover.backgroundColor,onMouseOut:e=>e.target.style.backgroundColor=r.button.backgroundColor,onClick:c,children:"Iniciar Sesión"})]}),l&&o.jsx("p",{style:r.errorMessage,children:l})," "]})]})};export{h as Login};
