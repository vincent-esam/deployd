import{j as e}from"./jsx-runtime.CLpGMVip.js";import{r as l}from"./index.CXuOLBzL.js";import{i as f,C as b,A as _}from"./AreaForm.Di_EG_6f.js";const y=({valueAndId:o})=>e.jsx("div",{className:"pw-ui-phone-input__list",children:e.jsx("ul",{className:"pw-ui-phone-input__bottom-list",id:o,children:f.map(t=>e.jsxs("li",{className:"pw-ui-phone-input__list-item pw-ui-js-phone-input-option","data-value":t.codigo,"data-text":t.codigo,id:"phone-bottom-list-item",children:[e.jsxs("span",{className:"pw-ui-phone-input__number phone-code",children:["+",t.codigo]}),e.jsx("span",{className:"pw-ui-phone-input__country phone-country",children:t.pais})]},t.id))})}),S=()=>{const[o,t]=l.useState({usuario:"",password:"",nombres:"",apellidoPaterno:"",apellidoMaterno:"",correo:"",ciudadRadicacion:"",idPais:"",telefono:"",diaNacimiento:"",mesNacimiento:"",anioNacimiento:"",idAreaInteres:"",idSector:""}),[c,u]=l.useState(null),[j,x]=l.useState(null),[h,m]=l.useState(""),[d,g]=l.useState(!1),i=a=>{const{name:s,value:r}=a.target;t(n=>({...n,[s]:r}))},N=()=>{g(a=>!a)},v=a=>{const s=a.target.files?.[0]||null;if(u(s),s){const r=new FileReader;r.onloadend=()=>{x(r.result)},r.readAsDataURL(s)}else x(null);console.log("Imagen seleccionada:",s)},w=async a=>{a.preventDefault();const s=`${o.anioNacimiento}-${o.mesNacimiento}-${o.diaNacimiento}`,r=new FormData;Object.keys(o).forEach(n=>{r.append(n,o[n])}),r.append("fechaNacimiento",s),c?(console.log("Imagen a enviar:",c),r.append("fotografia",c)):console.warn("No se seleccionó ninguna imagen"),r.forEach((n,p)=>{console.log(`${p}:`,n)});try{const n=await fetch("/api/insert_postulante",{method:"POST",body:r}),p=await n.json();n.ok?(m("Postulación enviada correctamente."),t({usuario:"",password:"",nombres:"",apellidoPaterno:"",apellidoMaterno:"",correo:"",ciudadRadicacion:"",idPais:"",telefono:"",diaNacimiento:"",mesNacimiento:"",anioNacimiento:"",idAreaInteres:"",idSector:""}),u(null)):m(p.error||"Error al enviar la postulación.")}catch(n){console.error("Error en la solicitud:",n),m("Error en la conexión al servidor.")}};return e.jsx("div",{className:"page-content ",children:e.jsx("div",{className:"page-content page-content--index",children:e.jsx("section",{className:"consultation",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 col-sm-12",children:[e.jsx("h1",{className:"title-homepage title-homepage--lg",children:"Formulario Registro Docentes"}),e.jsxs("div",{className:"consultation__description",children:[e.jsx("p",{className:"text-homepage text-homepage--lg",children:e.jsx("b",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Similique quibusdam a odit reprehenderit, quam deleniti, suscipit accusamus consequuntur, nulla minima aliquid non optio maxime facilis! Animi consequuntur ipsam voluptates suscipit."})}),e.jsx("p",{className:"text-homepage text-homepage--sm",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolores nobis ratione enim deleniti molestiae inventore quasi rerum? Quidem, obcaecati a provident illo magnam quod consequuntur, at recusandae itaque nulla eveniet."}),e.jsx("br",{})]})]}),e.jsxs("div",{className:"col-md-6 col-sm-12",children:[e.jsxs("form",{encType:"multipart/form-data",onSubmit:w,children:[e.jsx("div",{style:{marginTop:"15px",textAlign:"center",marginBottom:"15px"},children:e.jsx("img",{src:j||"/images/perfil-docente-pordefecto.png",alt:"Previsualización",width:"150",height:"150",style:{border:"1px solid #ccc",borderRadius:"8px",objectFit:"cover"}})}),e.jsx("div",{className:"form-row",style:{marginBottom:"10px"},children:e.jsx("input",{type:"file",accept:"image/*",onChange:v})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group input__group",children:[e.jsx("input",{type:"text",name:"usuario",id:"usuario",className:"form-control js-control-input",value:o.usuario,onChange:i}),e.jsx("label",{htmlFor:"usuario",children:"Usuario"}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]}),e.jsx("div",{className:"form-group input__group",children:e.jsxs("div",{className:"password-group",children:[e.jsx("input",{type:d?"text":"password",name:"password",id:"password",className:"form-control js-control-input",value:o.password,onChange:i}),e.jsx("label",{htmlFor:"password",children:"Contraseña"}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"}),e.jsx("span",{className:"toggle-password",onClick:N,title:d?"Ocultar contraseña":"Mostrar contraseña",children:d?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:e.jsx("path",{d:"M12 4.5C7.5 4.5 3.8 7.3 2 12c1.8 4.7 5.5 7.5 10 7.5s8.2-2.8 10-7.5c-1.8-4.7-5.5-7.5-10-7.5zm0 13c-3.1 0-5.6-2.5-5.6-5.5S8.9 6.5 12 6.5s5.6 2.5 5.6 5.5-2.5 5.5-5.6 5.5zm0-2.1c1.8 0 3.3-1.4 3.3-3.4s-1.4-3.4-3.3-3.4-3.3 1.4-3.3 3.4 1.4 3.4 3.3 3.4z"})}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:e.jsx("path",{d:"M2 12c1.8 4.7 5.5 7.5 10 7.5 2.5 0 4.9-.9 6.9-2.5l2.4 2.4 1.4-1.4-19-19-1.4 1.4 2.4 2.4C3.1 7.1 2 9.4 2 12zm10-7.5c-2.5 0-4.9.9-6.9 2.5l9.9 9.9c2-.5 3.9-1.7 5.2-3.4-1.8-4.7-5.5-7.5-10-7.5zm-6 3.6 3.3 3.3C9.1 10.1 10 10 12 10c1.4 0 2.7.1 4 .4l1.7 1.7c-.4-.1-.9-.1-1.7-.1-2.1 0-4 .5-5.7 1.3L4.5 8.1z"})})}),e.jsx("style",{children:`
        .password-group {
          position: relative;
        }

        .password-group input {
          padding-right: 40px; /* Espacio para el icono */
        }

        .password-group .toggle-password {
          position: absolute;
          right: 10px;
          top: 50%;
          transform: translateY(-50%);
          cursor: pointer;
          font-size: 18px;
        }
      `})]})}),e.jsxs("div",{className:"form-group input__group",children:[e.jsx("input",{type:"text",name:"nombres",id:"nombres",className:"form-control js-control-input",value:o.nombres,onChange:i}),e.jsx("label",{htmlFor:"nombres",children:"Nombres"}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]})]}),e.jsxs("div",{className:"form-row row",children:[e.jsxs("div",{className:"form-group col-md-6 col-sm-12 input__group",children:[e.jsx("input",{type:"text",name:"apellidoPaterno",id:"apellidoPaterno",className:"form-control js-control-input",value:o.apellidoPaterno,onChange:i}),e.jsx("label",{htmlFor:"apellidoPaterno",children:"Apellido paterno"}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]}),e.jsxs("div",{className:"form-group col-md-6 col-sm-12 input__group",children:[e.jsx("input",{type:"text",name:"apellidoMaterno",id:"apellidoMaterno",className:"form-control js-control-input",value:o.apellidoMaterno,onChange:i}),e.jsx("label",{htmlFor:"apellidoMaterno",children:"Apellido Materno"}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group input__group",children:[e.jsx("input",{type:"text",name:"correo",id:"correo",className:"form-control js-control-input",value:o.correo,onChange:i}),e.jsx("label",{htmlFor:"correoElectronico",children:"Correo electrónico"}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]})}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group input__group",children:[e.jsx("input",{type:"text",name:"ciudadRadicacion",id:"ciudadRadicacion",className:"form-control js-control-input",value:o.ciudadRadicacion,onChange:i}),e.jsx("label",{htmlFor:"ciudadRadicacion",children:"Ciudad de radicación"}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]})}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{id:"country_wrapper",className:"form-group form-select",children:[e.jsx(b,{valueAndId:"idPais",onChange:a=>t(s=>({...s,idPais:a.target.value}))}),e.jsx("span",{className:"error-text"})]})}),e.jsx("div",{className:"form-row",children:e.jsx("div",{className:"pw-ui-control form-group",children:e.jsxs("div",{className:"pw-ui-phone-input",children:[e.jsx("div",{className:"pw-ui-control",children:e.jsxs("div",{className:"pw-ui-control-input__wrapper",children:[e.jsx("input",{type:"text",name:"telefono",className:"pw-ui-control-input__field pw-ui-js-control-input no-arrows",id:"telefono",value:o.telefono,onChange:i}),e.jsx("div",{className:"pw-ui-control-placeholder",children:"Número de contacto"}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]})}),e.jsxs("div",{className:"pw-ui-phone-input__pseudo-field pw-ui-js-phone-input-toggler",children:[e.jsx("div",{className:"pw-ui-phone-input__value pw-ui-js-phone-input-show",children:"+"}),e.jsx("svg",{width:"12",height:"5",className:"pw-ui-phone-input__arrow",children:e.jsx("use",{xlinkHref:"#pw-ui-ico-chevron"})})]}),e.jsx(y,{valueAndId:"codigo"})]})})}),e.jsxs("div",{className:"form-row row",children:[e.jsx("label",{htmlFor:"",className:"datePicker-label",children:"Fecha de nacimiento"}),e.jsxs("div",{className:"form-group form-select-sm col-md-4 col-sm-12",children:[e.jsxs("select",{className:"country-item form-control",id:"diaNacimiento",name:"diaNacimiento",value:o.diaNacimiento,onChange:i,required:!0,children:[e.jsx("option",{value:"",children:"Día"}),Array.from({length:31},(a,s)=>e.jsx("option",{value:s+1,children:s+1},s+1))]}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]}),e.jsxs("div",{className:"form-group form-select-sm col-md-4 col-sm-12",children:[e.jsxs("select",{className:"country-item form-control",id:"mesNacimiento",name:"mesNacimiento",value:o.mesNacimiento,onChange:i,required:!0,children:[e.jsx("option",{value:"",children:"Mes"}),["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"].map((a,s)=>e.jsx("option",{value:s+1,children:a},s+1))]}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]}),e.jsxs("div",{className:"form-group form-select-sm col-md-4 col-sm-12",children:[e.jsxs("select",{className:"country-item form-control",id:"anioNacimiento",name:"anioNacimiento",value:o.anioNacimiento,onChange:i,required:!0,children:[e.jsx("option",{value:"",children:"Año"}),Array.from({length:100},(a,s)=>e.jsx("option",{value:2023-s,children:2023-s},2023-s))]}),e.jsx("span",{className:"error-text"}),e.jsx("i",{className:"error-icon"})]})]}),e.jsxs("div",{className:"form-row row",children:[e.jsx("label",{htmlFor:"",className:"datePicker-label",children:"Área de interés de docencia"}),e.jsx(_,{onChange:i,selectedArea:o.idAreaInteres,selectedSector:o.idSector})]}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",style:{display:"none"},children:e.jsx("symbol",{id:"pw-ui-ico-chevron",viewBox:"0 0 10 5",children:e.jsx("path",{fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",d:"M9 0L4.999625 4.285714 1 0"})})}),e.jsx("div",{className:"form-row",children:e.jsx("div",{className:"form-group input__group",children:e.jsx("input",{type:"submit",className:"btn btn-primary",value:"Registrarse",name:"Registrarse"})})})]}),h&&e.jsx("p",{children:h})]})]})})})})})};export{S as SingleForm};
